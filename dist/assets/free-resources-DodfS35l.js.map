{"version":3,"file":"free-resources-DodfS35l.js","sources":["../../free-resources.js"],"sourcesContent":["import { supabase } from './supabase-config.js';\r\nimport { isLoggedIn, logoutUser, getCurrentUser } from './auth.js';\r\n\r\nlet allResources = [];\r\nlet currentCategory = 'all';\r\n\r\ndocument.addEventListener('DOMContentLoaded', async () => {\r\n    // 1. Auth Guard: Redirect to homepage if not logged in\r\n    const session = await isLoggedIn();\r\n    if (!session) {\r\n        window.location.href = 'index.html';\r\n        return;\r\n    }\r\n\r\n    // 2. Initialize Page\r\n    await loadResources();\r\n    setupEventListeners();\r\n\r\n    // 3. Global Auth Logic: Handle Logout\r\n    supabase.auth.onAuthStateChange((event) => {\r\n        if (event === 'SIGNED_OUT') {\r\n            window.location.href = 'index.html';\r\n        }\r\n    });\r\n});\r\n\r\n\r\nasync function loadResources() {\r\n    const grid = document.getElementById('resourcesGrid');\r\n    if (!grid) return;\r\n\r\n    try {\r\n        const { data, error } = await supabase\r\n            .from('free_resources')\r\n            .select('*')\r\n            .order('created_at', { ascending: false });\r\n\r\n        if (error) throw error;\r\n\r\n        allResources = data || [];\r\n        renderResources();\r\n    } catch (error) {\r\n        console.error('Error fetching resources:', error.message);\r\n        grid.innerHTML = '<div style=\"padding: 40px; text-align: center; color: #991B1B; grid-column: 1/-1;\">' +\r\n            'Failed to load resources. Please try again later.' +\r\n            '</div>';\r\n    }\r\n}\r\n\r\nfunction renderResources() {\r\n    const grid = document.getElementById('resourcesGrid');\r\n    if (!grid) return;\r\n\r\n    const filtered = allResources.filter(res => {\r\n        if (currentCategory === 'all') return true;\r\n        return res.type === currentCategory;\r\n    });\r\n\r\n    if (filtered.length === 0) {\r\n        grid.innerHTML = '<div style=\"padding: 60px; text-align: center; color: #6b7280; grid-column: 1/-1;\">' +\r\n            '<p style=\"font-size: 1.1rem;\">No resources found in this category.</p>' +\r\n            '</div>';\r\n        return;\r\n    }\r\n\r\n    grid.innerHTML = filtered.map(resource => createResourceCard(resource)).join('');\r\n}\r\n\r\nfunction createResourceCard(resource) {\r\n    const icons = {\r\n        notes: `<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path><polyline points=\"14 2 14 8 20 8\"></polyline><line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"></line><line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"></line><polyline points=\"10 9 9 9 8 9\"></polyline></svg>`,\r\n        slides: `<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"2\" y=\"3\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"></rect><line x1=\"8\" y1=\"21\" x2=\"16\" y2=\"21\"></line><line x1=\"12\" y1=\"17\" x2=\"12\" y2=\"21\"></line></svg>`,\r\n        exam: `<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M9 11l3 3L22 4\"></path><path d=\"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11\"></path></svg>`,\r\n        info: `<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>`\r\n    };\r\n\r\n    const typeIcons = {\r\n        notes: icons.notes,\r\n        slides: icons.slides,\r\n        exam: icons.exam,\r\n        info: icons.info\r\n    };\r\n\r\n    return `\r\n        <div class=\"resource-card\">\r\n            <div style=\"display: flex; gap: 16px; align-items: flex-start;\">\r\n                <div class=\"resource-icon-wrapper\">\r\n                    ${typeIcons[resource.type] || icons.notes}\r\n                </div>\r\n                <div style=\"flex: 1;\">\r\n                    <span class=\"resource-badge badge-${resource.type || 'notes'}\">${resource.type || 'Resource'}</span>\r\n                    <h3 style=\"font-size: 1.1rem; font-weight: 600; margin-top: 4px; color: #111827;\">${resource.title}</h3>\r\n                    <p style=\"font-size: 0.9rem; color: #6b7280; margin-top: 2px;\">${resource.course || 'General'}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"resource-meta\">\r\n                <span>File: ${resource.file_type || 'PDF'}</span>\r\n                <span>${new Date(resource.created_at).toLocaleDateString()}</span>\r\n            </div>\r\n            <button class=\"download-btn\" data-id=\"${resource.id}\" data-url=\"${resource.file_url}\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path><polyline points=\"7 10 12 15 17 10\"></polyline><line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line></svg>\r\n                Download\r\n            </button>\r\n        </div>\r\n    `;\r\n}\r\n\r\nfunction setupEventListeners() {\r\n    // 1. Tab Filtering\r\n    const tabs = document.querySelectorAll('.resource-tab');\r\n    tabs.forEach(tab => {\r\n        tab.addEventListener('click', () => {\r\n            tabs.forEach(t => t.classList.remove('active'));\r\n            tab.classList.add('active');\r\n            currentCategory = tab.dataset.category;\r\n            renderResources();\r\n        });\r\n    });\r\n\r\n    // 2. Search Logic\r\n    const searchInput = document.getElementById('resourceSearch');\r\n    if (searchInput) {\r\n        searchInput.addEventListener('input', debounce((e) => {\r\n            const query = e.target.value.toLowerCase();\r\n            const grid = document.getElementById('resourcesGrid');\r\n\r\n            const filtered = allResources.filter(res => {\r\n                const matchesSearch = res.title.toLowerCase().includes(query) ||\r\n                    res.course.toLowerCase().includes(query);\r\n                const matchesCategory = currentCategory === 'all' || res.type === currentCategory;\r\n                return matchesSearch && matchesCategory;\r\n            });\r\n\r\n            if (filtered.length === 0) {\r\n                grid.innerHTML = '<div style=\"padding: 60px; text-align: center; color: #6b7280; grid-column: 1/-1;\">No matching resources found.</div>';\r\n            } else {\r\n                grid.innerHTML = filtered.map(resource => createResourceCard(resource)).join('');\r\n            }\r\n        }, 300));\r\n    }\r\n\r\n    // 3. Download Action\r\n    const resourcesGrid = document.getElementById('resourcesGrid');\r\n    if (resourcesGrid) {\r\n        resourcesGrid.addEventListener('click', async (e) => {\r\n            const btn = e.target.closest('.download-btn');\r\n            if (!btn) return;\r\n\r\n            const resourceId = btn.dataset.id;\r\n            const fileUrl = btn.dataset.url;\r\n\r\n            if (fileUrl) {\r\n                // In a real app, this might be a signed URL from Supabase Storage\r\n                // For MVP, we'll open the URL if it exists\r\n                window.open(fileUrl, '_blank');\r\n\r\n                // Track download in analytics (optional)\r\n                await supabase.from('resource_downloads').insert([\r\n                    { resource_id: resourceId, user_id: (await getCurrentUser()).id }\r\n                ]);\r\n            } else {\r\n                alert('This resource file is currently unavailable.');\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    // 5. FAB & Modal Logic\r\n    const fab = document.getElementById('uploadFAB');\r\n    const modal = document.getElementById('resourceModal');\r\n    const closeBtn = document.getElementById('closeResourceModal');\r\n    const resourceForm = document.getElementById('resourceForm');\r\n    const fileArea = document.getElementById('fileUploadArea');\r\n    const fileInput = document.getElementById('resourceFile');\r\n    const fileNameDisplay = document.getElementById('fileNameDisplay');\r\n\r\n    if (fab && modal) {\r\n        fab.addEventListener('click', () => modal.classList.add('active'));\r\n    }\r\n\r\n    if (closeBtn && modal) {\r\n        closeBtn.addEventListener('click', () => modal.classList.remove('active'));\r\n    }\r\n\r\n    // Close on backdrop click\r\n    if (modal) {\r\n        modal.addEventListener('click', (e) => {\r\n            if (e.target === modal) modal.classList.remove('active');\r\n        });\r\n    }\r\n\r\n    // File selection handling\r\n    if (fileArea && fileInput) {\r\n        fileArea.addEventListener('click', () => fileInput.click());\r\n\r\n        fileInput.addEventListener('change', (e) => {\r\n            const file = e.target.files[0];\r\n            if (file) {\r\n                fileNameDisplay.textContent = `Selected: ${file.name}`;\r\n                fileNameDisplay.style.color = '#368CBF';\r\n            }\r\n        });\r\n\r\n        // Drag and drop\r\n        fileArea.addEventListener('dragover', (e) => {\r\n            e.preventDefault();\r\n            fileArea.classList.add('dragover');\r\n        });\r\n\r\n        fileArea.addEventListener('dragleave', () => {\r\n            fileArea.classList.remove('dragover');\r\n        });\r\n\r\n        fileArea.addEventListener('drop', (e) => {\r\n            e.preventDefault();\r\n            fileArea.classList.remove('dragover');\r\n            const file = e.dataTransfer.files[0];\r\n            if (file && file.type === 'application/pdf') {\r\n                fileInput.files = e.dataTransfer.files;\r\n                fileNameDisplay.textContent = `Selected: ${file.name}`;\r\n                fileNameDisplay.style.color = '#368CBF';\r\n            } else {\r\n                alert('Please upload a PDF file.');\r\n            }\r\n        });\r\n    }\r\n\r\n    // Form Submission\r\n    if (resourceForm) {\r\n        resourceForm.addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            const submitBtn = document.getElementById('submitResourceBtn');\r\n            const file = fileInput.files[0];\r\n\r\n            if (!file) {\r\n                alert('Please select a PDF file to upload.');\r\n                return;\r\n            }\r\n\r\n            submitBtn.disabled = true;\r\n            submitBtn.textContent = 'Uploading...';\r\n\r\n            try {\r\n                const user = await getCurrentUser();\r\n                if (!user) throw new Error('You must be logged in to upload.');\r\n\r\n                // 1. Upload to Supabase Storage\r\n                const fileExt = file.name.split('.').pop();\r\n                const fileName = `${Date.now()}_${Math.random().toString(36).substring(7)}.${fileExt}`;\r\n                const filePath = `resources/${user.id}/${fileName}`;\r\n\r\n                const { data: uploadData, error: uploadError } = await supabase.storage\r\n                    .from('free-resources')\r\n                    .upload(filePath, file);\r\n\r\n                if (uploadError) throw uploadError;\r\n\r\n                // 2. Get Public URL\r\n                const { data: { publicUrl } } = supabase.storage\r\n                    .from('free-resources')\r\n                    .getPublicUrl(filePath);\r\n\r\n                // 3. Insert into Database\r\n                const resourceData = {\r\n                    title: document.getElementById('resourceTitle').value,\r\n                    type: document.getElementById('resourceType').value,\r\n                    course: document.getElementById('resourceCourse').value,\r\n                    year: parseInt(document.getElementById('resourceYear').value) || new Date().getFullYear(),\r\n                    description: document.getElementById('resourceDescription').value,\r\n                    file_url: publicUrl,\r\n                    file_type: 'PDF',\r\n                    uploader_id: user.id\r\n                };\r\n\r\n                const { error: dbError } = await supabase\r\n                    .from('free_resources')\r\n                    .insert([resourceData]);\r\n\r\n                if (dbError) throw dbError;\r\n\r\n                alert('Resource uploaded successfully!');\r\n                modal.classList.remove('active');\r\n                resourceForm.reset();\r\n                fileNameDisplay.textContent = 'Click to upload or drag and drop';\r\n                fileNameDisplay.style.color = '';\r\n\r\n                // Refresh list\r\n                await loadResources();\r\n\r\n            } catch (err) {\r\n                console.error('Upload error:', err);\r\n                alert(`Error: ${err.message}`);\r\n            } finally {\r\n                submitBtn.disabled = false;\r\n                submitBtn.textContent = 'Upload Resource';\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction debounce(func, wait) {\r\n    let timeout;\r\n    return function (...args) {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(() => func.apply(this, args), wait);\r\n    };\r\n}\r\n"],"names":["allResources","currentCategory","isLoggedIn","loadResources","setupEventListeners","supabase","event","grid","data","error","renderResources","filtered","res","resource","createResourceCard","icons","tabs","tab","searchInput","debounce","e","query","matchesSearch","matchesCategory","resourcesGrid","btn","resourceId","fileUrl","getCurrentUser","fab","modal","closeBtn","resourceForm","fileArea","fileInput","fileNameDisplay","file","submitBtn","user","fileExt","fileName","filePath","uploadData","uploadError","publicUrl","resourceData","dbError","err","func","wait","timeout","args"],"mappings":"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"}