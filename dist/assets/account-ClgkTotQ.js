import{i as f,g as p,s as g,b as I}from"./auth-DlafXHy2.js";/* empty css              */document.addEventListener("DOMContentLoaded",async()=>{if(!await f()){window.location.href="index.html";return}const t=await p();t&&v(t),y()});async function v(e){const t=document.getElementById("topNavName"),o=document.getElementById("topNavAvatar"),n=e.username||e.full_name||"User";t&&(t.textContent=n),o&&(o.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=368CBF&color=fff`);const a=document.getElementById("profileAvatar"),i=document.getElementById("profileFullName"),s=document.getElementById("firstName"),m=document.getElementById("lastName"),c=document.getElementById("username"),l=document.getElementById("email"),d=document.getElementById("phone");a&&(a.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=368CBF&color=fff`),i&&(i.textContent=e.username||`${e.first_name||""} ${e.last_name||""}`.trim()||"User");const r=document.getElementById("publicUserIdDisplay");r&&(r.textContent=e.publicUserId?`ID: #${e.publicUserId}`:"ID: Pending"),s&&(s.value=e.first_name||""),m&&(m.value=e.last_name||""),c&&(c.value=e.username||""),d&&(d.value=e.phone||"Not provided");const{data:{user:u}}=await g.auth.getUser();l&&u&&(l.value=u.email)}function y(){const e=document.querySelector(".logout-btn");e&&e.addEventListener("click",async()=>{if(confirm("Are you sure you want to logout?")){const{success:t}=await I();t&&(window.location.href="index.html")}})}
